{% extends "base.html" %}
{% block title %}Edit Expense Â· Expense Tracker{% endblock %}

{% block content %}
  <h1 class="text-3xl font-semibold mb-2">Edit Expense</h1>
  <p class="text-slate-400 mb-6">Update the fields and save your changes.</p>

  <section class="max-w-xl rounded-2xl border border-slate-800 bg-slate-900 p-4">
    <form method="post" action="{{ url_for('edit_post', expense_id=expense.id) }}" class="space-y-3">
      <label class="block text-sm">
        <span class="mb-1 block text-slate-300">Description</span>
        <input name="description"
               value="{{ expense.description }}"
               class="w-full rounded-xl bg-slate-800 border border-slate-700 px-3 py-2 text-slate-100" />
      </label>

      <div class="grid grid-cols-2 gap-3">
        <label class="block text-sm">
          <span class="mb-1 block text-slate-300">Amount</span>
          <input type="number" step="0.01" min="0.01" name="amount"
                 value="{{ '%.2f'|format(expense.amount) }}"
                 class="w-full rounded-xl bg-slate-800 border border-slate-700 px-3 py-2 text-slate-100" />
        </label>
        <label class="block text-sm">
          <span class="mb-1 block text-slate-300">Date</span>
          <input type="date" name="date"
                 value="{{ expense.date.strftime('%Y-%m-%d') if expense.date else today }}"
                 class="w-full rounded-xl bg-slate-800 border border-slate-700 px-3 py-2 text-slate-100" />
        </label>
      </div>

      <label class="block text-sm">
        <span class="mb-1 block text-slate-300">Category</span>
        <select name="category"
                class="w-full rounded-xl bg-slate-800 border border-slate-700 px-3 py-2 text-slate-100">
          {% for c in categories %}
            <option value="{{ c }}" {% if expense.category == c %}selected{% endif %}>{{ c }}</option>
          {% endfor %}
        </select>
      </label>

      <div class="flex items-center gap-2">
        <button class="rounded-xl bg-brand/20 hover:bg-brand/30 text-brand px-4 py-2 border border-brand/30"
                type="submit">Save Changes</button>

        <a class="rounded-xl bg-slate-800 hover:bg-slate-700 px-4 py-2 border border-slate-700"
           href="{{ url_for('index') }}">Cancel</a>
      </div>
    </form>
  </section>
{% endblock %}
